var _createClass=function(){function n(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){var n="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global||this,e=(n.jc,Array.prototype),r=Object.prototype,t=(e.push,e.slice,r.toString),o=(r.hasOwnProperty,Array.isArray),i=Object.keys,u=Object.values?Object.values:function(n){return i(n).map(function(e){return n[e]})},f=(Object.create,function n(e){return e instanceof n?e:this instanceof n?void(this._wrapped=e):new n(e)});function a(n,e,r){return f.isNoVal(n)||f.isNoVal(e)?f.isNoVal(n)?e:n:(r="max"==r?n>e:n<e)?n:e}function c(n,e){var r={};return f.isArray(e)?f.map(e,function(e){r[n+e]=e}):f.isObject(e)?f.forIn(e,function(n,e){r[n]=e}):f.isString(e)&&(r[n+e]=e),r}function s(n,e){var r={},t=n.length,o={};return f.map(n,function(n){f.isObjEmpty(e.colObj)||f.forIn(e.colObj,function(e,t){var o=f.isFunction(t)?t(n):n[t];r[e]=o}),f.isObjEmpty(e.sumObj)||f.forIn(e.sumObj,function(e,t){var o=f.isFunction(t)?t(n):n[t];r[e]?r[e]+=o||0:r[e]=o||0}),f.isObjEmpty(e.avgObj)||f.forIn(e.avgObj,function(e,t){o[e]||(o[e]=0);var i=f.isFunction(t)?t(n):n[t];r[e]?r[e]+=i||0:r[e]=i||0,(i||0==i)&&o[e]++}),f.isObjEmpty(e.maxObj)||f.forIn(e.maxObj,function(e,t){var o=f.isFunction(t)?t(n):n[t];r[e]=a(r[e],o,"max")}),f.isObjEmpty(e.minObj)||f.forIn(e.minObj,function(e,t){var o=f.isFunction(t)?t(n):n[t];r[e]=a(r[e],o,"min")}),f.isObjEmpty(e.countObj)||f.forIn(e.countObj,function(e,o){var i=f.isFunction(o)?o(n):n[o];switch(f.isUndefined(r[e])&&(r[e]=0),e){case"*"==o?e:"count_*":r[e]=t;break;default:f.isUndefined(i)||null==i||r[e]++}})}),f.forIn(e.avgObj,function(n,e){r[n]=r[n]/o[n]}),r}function l(n,e){if(!e)return n;if(f.isObject(e)&&!f.isFunction(e)){var r=i(e),t=u(e);n.sort(function(n,e){for(var o,i,u=r.length,f=0;f<u&&(o=r[f],i=t[f],n[o]===e[o]);f++);if(n[o]!==e[o]){if(n[o]>e[o]||void 0===e[o])return"desc"===i||"DESC"===i?-1:1;if(n[o]<e[o]||void 0===n[o])return"desc"===i||"DESC"===i?1:-1}return"desc"===i||"DESC"===i?e[o]-n[o]:n[o]-e[o]})}else f.isFunction(e)&&n.sort(e);return n}function p(n,e){if(!e&&0!=e)return n;var r=[],t=n.length,o=0;if(f.isNumber(e))t=e>t?t:e;else if(f.isArray(e)){if(e[0]>t)return[];e[0]<t&&(o=e[0]),t=e[0]+e[1]<t?e[0]+e[1]:t}for(;o<t;o++)r.push(n[o]);return r}"undefined"==typeof exports||exports.nodeType?n.jc=f:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=f),exports.jc=f),f.VERSION="1.0.0",f.map=function(n,e){return f.isArray(n)?n.map(e):[]},f.forIn=function(n,e){if(!f.isObject(n))return{};var r=0;for(var t in n)e(t,n[t],r),r++},f.filter=function(n,e){return f.isArray(n)?n.filter(e):[]},f.where=function(n,e){var r;if(f.isFunction(e))r=f.filter(n,e);else{if(!f.isObject(e))return[];r=f.filter(n,function(n){return i(e).every(function(r){return e[r]===n[r]})})}return r},f.limit=function(n,e){return p(n,e)},f.order=f.orderBy=function(n,e){return l(n,e)},f.tree=function(n,e){var r;e.children||(e.children="children"),f.isString(e.retain)?r=[e.retain,e.id,e.parent]:f.isArray(e.retain)?((r=e.retain).push(e.id),r.push(e.parent)):f.isObject(e.retain)?((r=e.retain)[e.id]=e.id,r[e.parent]=e.parent):n=f.extend(!0,[],n),r&&(n=f.sql({select:{col:r},from:n}));var t={},o=f.groupBy(n,function(n){return n[e.id]==e.root&&(t=n),n[e.parent]});return f.map(n,function(n){var r=n[e.id];o[r]&&(n[e.children]=o[r])}),f.isObjEmpty(t)&&(t[e.children]=o[e.root]),t},f.extend=function(){var n,e,r,t,o,i,u=arguments[0]||{},a=1,c=arguments.length,s=!1;for("boolean"==typeof u&&(s=u,u=arguments[1]||{},a++),"object"===(void 0===u?"undefined":_typeof(u))||f.isFunction(u)||(u={}),c===a&&(u=this,--a);a<c;a++)if(null!=(n=arguments[a]))for(e in n)r=u[e],u!==(t=n[e])&&(s&&t&&(f.isObject(t)||(o=f.isArray(t)))?(o?(o=!1,i=r&&f.isArray(r)?r:[]):i=r&&f.isObject(r)?r:{},u[e]=f.extend(s,i,t)):void 0!==t&&(u[e]=t));return u},f.unique=function(n){if(!n||0==n.length)return n;var e={},r=[];f.map(n,function(n){var r=JSON.stringify(n);e[r]=n});return f.forIn(e,function(n,e){r.push(e)}),r},f.spaceFix=function(n,e){if(!n||0==n.length)return n;var r=[];n[0][e.key]-e.start>0&&((s={})[e.key]=e.start,f.map(e.zeroFill,function(n){s[n]=0}),n.unshift(s));n[n.length-1][e.key]<e.end&&((s={})[e.key]=e.end,f.map(e.zeroFill,function(n){s[n]=0}),n.push(s));for(var t=1,o=n.length;t<o&&!(t>1e4);t++){var i=n[t][e.key]-n[t-1][e.key];if(i<=e.space)r.push(n[t]);else{for(var u=e.space,a=0,c=i/e.space;a<c-1&&!(a>1e4);a++){var s;(s={})[e.key]=parseInt(n[t-1][e.key])+parseInt(u),f.map(e.zeroFill,function(n){s[n]=0}),r.push(s),u+=e.space}r.push(n[t])}}return r.unshift(n[0]),r},f.keyArray=function(n,e){if(!n||0==n.length)return n;var r={};return f.map(n,function(n,t){f.map(e,function(e,t){r[e]||(r[e]=[]),r[e].push(n[e])})}),r},f.keyBreak=function(n,e){if(!n||0==n.length)return n;var r=[],t=e.key,o=e.value;return f.map(n,function(n){f.map(e.break,function(i){var u={};u[t]=i,u[o]=n[i],f.map(e.retain,function(e){u[e]=n[e]}),r.push(u)})}),r},f.max=function(n,e){if(!n||0==n.length)return n;var r;if(f.isString(e)){var t=e;e=function(n){return n[t]}}else f.isUndefined(e)&&(e=function(n){return n});return f.map(n,function(n){var t=r?e(r):r,o=n?e(n):n;r=f.isNoVal(t)||f.isNoVal(o)?f.isNoVal(t)?n:r:t>o?r:n}),r},f.min=function(n,e){if(!n||0==n.length)return n;var r;if(f.isString(e)){var t=e;e=function(n){return n[t]}}else f.isUndefined(e)&&(e=function(n){return n});return f.map(n,function(n){var t=r?e(r):r,o=n?e(n):n;r=f.isNoVal(t)||f.isNoVal(o)?f.isNoVal(t)?n:r:t<o?r:n}),r},f.group=f.groupBy=function(n,e){if(!n||0==n.length)return n;var r={};return f.map(n,function(n,t){var o=[];f.isArray(e)?f.map(e,function(e,r){f.isFunction(e)?o.push(e(n)):o.push(n[e])}):f.isString(e)?o.push(n[e]):f.isFunction(e)&&(o=e(n,t)),r[o]||(r[o]=[]),r[o].push(n)}),r},f.sql=function(n){if(function(n){if(!n.from)throw new Error("From is not defined","Error from");if(!n.select)throw new Error("Select is not defined","Error select");!function(n){var e=n.select,r=n.groupBy;if(!(e.sum||e.avg||e.count||e.max||e.min))return;if(e.col&&!n.groupBy)return;var t=c("",e.col);t=u(t);var o=[],i=!1;f.isArray(r)?f.map(r,function(n,e){o.push(n)}):f.isString(r)?o.push(r):f.isFunction(r)&&(o=[r]);for(var a=0,s=t.length;a<s;a++){for(var l=0;l<s;l++){if(t[a]==o[l]){i=!0;break}if(f.isObject(t[a])&&f.isObject(o[l])&&String(t[a])===String(o[l])){i=!0;break}}if(!i)throw new Error("groupBy should contain select.col","Error groupBy");i=!1}}(n)}(n),0==n.from.length||!f.isArray(n.from))return[];var e,r,t,o,i,a,d=n.from;return r=d,e=(t=n.where)?f.where(r,t):r,o=e,i=n,f.forIn(i.select,function(n,e){a=!("col"==n)||a}),p(l(function(n,e){if(!e)throw new Error("Select is not defined","Error select");var r=[],t={};e.col&&(t.colObj=c("",e.col));e.sum&&(t.sumObj=c("sum_",e.sum));e.avg&&(t.avgObj=c("avg_",e.avg));e.max&&(t.maxObj=c("max_",e.max));e.min&&(t.minObj=c("min_",e.min));e.count&&(t.countObj=c("count_",e.count));f.isArray(n)?f.map(n,function(n,e){var o=s([n],t);r.push(o)}):f.forIn(n,function(n,e,o,i){var u=s(e,t);r.push(u)});return r}(function(n,e){if(!e)return n;var r={sumObj:{},avgObj:{},maxObj:{},minObj:{},countObj:{}},t={};return f.forIn(e,function(n,e){var t=n.split("_"),o=t.shift(),i=t.join("_");switch(i=i.replace(/[1-9a-zA-z_\$\@]+/g,function(n){return"row['"+n+"']"}),o){case"sum":r.sumObj[n]=function(n){return new Function("row","return "+i)(n)};break;case"avg":r.avgObj[n]=function(n){return new Function("row","return "+i)(n)};break;case"max":r.maxObj[n]=function(n){return new Function("row","return "+i)(n)};break;case"min":r.minObj[n]=function(n){return new Function("row","return "+i)(n)};break;case"count":r.countObj[n]=function(n){return new Function("row","return "+i)(n)}}}),f.forIn(n,function(n,o,i,u){var f,a=s(o,r);for(var c in e)if(foo=new Function("return "+a[c]+e[c]),!(f=foo()))break;f&&(t[n]=o)}),t}(i.groupBy||a?i.groupBy||i.select.col?f.group(o,i.groupBy):{table:o}:o,n.having),n.select),n.orderBy),n.limit)},f.isObjEmpty=function(n){for(var e in n)return!1;return!0},f.isNoVal=function(n){return f.isUndefined(n)||null==n||n!=n},f.isArray=o||function(n){return"[object Array]"===t.call(n)},f.isObject=function(n){return"object"===(void 0===n?"undefined":_typeof(n))&&!f.isArray(n)&&!!n},f.map(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){f["is"+n]=function(e){return t.call(e)==="[object "+n+"]"}}),f.isUndefined=function(n){return void 0===n},"function"==typeof define&&define.amd&&define("jc",[],function(){return f})}(),function(){var n="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global||this,e=(n.ec,Array.prototype),r=Object.prototype,t=(e.push,e.slice,r.toString,r.hasOwnProperty,Array.isArray,Object.keys),o=(Object.values&&Object.values,Object.create,function n(e){return e instanceof n?e:this instanceof n?void(this._wrapped=e):new n(e)});"undefined"==typeof exports||exports.nodeType?n.ec=o:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=o),exports.ec=o),o.VERSION="1.0.0";var i=function(){function n(){_classCallCheck(this,n),this.color=["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],this.grid={top:48,left:16,right:16,bottom:12,containLabel:!0},this.title={text:"",top:4,left:10,textStyle:{color:"#333"}},this.legend={show:!1,top:8,right:10}}return _createClass(n,[{key:"setColor",value:function(n,e){this.color=e?jc.extend(!0,this.color,n):n}},{key:"setGrid",value:function(n,e){this.grid=e?jc.extend(!0,this.grid,n):n}},{key:"setTitle",value:function(n,e){this.title=e?jc.extend(!0,this.title,n):n}},{key:"setLegend",value:function(n,e){this.legend=e?jc.extend(!0,this.legend,n):n}},{key:"easyOption",value:function(n){n.easySet&&n.easySet}}]),n}();i.globalColor=function(n){this.color=n},o.barChart=function(n){var e=new i;n.color&&e.setColor(n.color);e.easyOption(n);return e},i.globalColor(["#777"]),console.log(o.barChart({color:"#aaa"})),console.log(i.setColor),"function"==typeof define&&define.amd&&define("ec",[],function(){return o})}();